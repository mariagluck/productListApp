{"version":3,"sources":["App.jsx","index.js"],"names":["App","useState","name","setName","price","setPrice","products","setProducts","getProducts","fetch","then","response","json","results","catch","error","console","log","useEffect","className","map","product","onClick","alert","url","_id","method","result","err","deleteProduct","type","value","onChange","e","target","placeholder","parseInt","config","body","JSON","stringify","headers","ReactDOM","render","document","querySelector"],"mappings":"4JAGe,SAASA,IAEpB,MAAwBC,mBAAS,IAAjC,mBAAOC,EAAP,KAAaC,EAAb,KACA,EAA0BF,mBAAS,GAAnC,mBAAOG,EAAP,KAAcC,EAAd,KACA,EAAgCJ,mBAAS,IAAzC,mBAAOK,EAAP,KAAiBC,EAAjB,KAEA,SAASC,IAELC,MADY,kCAEPC,MAAK,SAAAC,GAAQ,OAAIA,EAASC,UAC1BF,MAAK,SAAAG,GAAO,OAAIN,EAAYM,MAC5BC,OAAM,SAAAC,GAAK,OAAIC,QAAQC,IAAI,sBAAuBF,MA2C3D,OAxCAG,oBAAUV,EAAa,IAyCnB,sBAAKW,UAAU,OAAf,UACI,8CACA,6BACKb,EAASc,KAAI,SAAAC,GAAO,OACjB,2CACcA,EAAQnB,KADtB,WACoCmB,EAAQjB,MAD5C,SAGA,wBAAQe,UAAU,YAAYG,QAAS,YAvBvD,SAAuBD,GACnBE,MAAM,YAAcF,EAAQnB,MAC5B,IAAMsB,EAAM,kCAAoCH,EAAQI,IAKxDhB,MAAMe,EAJS,CACXE,OAAQ,WAIPhB,MAAK,SAAAC,GAAQ,OAAIA,EAASC,UAC1BF,MAAK,SAAAiB,GACFnB,OAEHM,OAAM,SAAAc,GAAG,OAAIZ,QAAQC,IAAI,eAAgBW,MAWWC,CAAcR,IAA3D,4BAKR,uBACGS,KAAK,OACLC,MAAO7B,EACP8B,SAAU,SAACC,GAAD,OAAO9B,EAAQ8B,EAAEC,OAAOH,QAClCI,YAAY,iBAAiB,uBAChC,uBACGL,KAAK,SACLC,MAAO3B,EACP4B,SAAU,SAACC,GAAD,OAAO5B,EAAS+B,SAASH,EAAEC,OAAOH,SAC5CI,YAAY,UAAU,uBACzB,wBAAQb,QA5DhB,WACG,IAAMD,EAAU,CAAEnB,OAAME,SAElBiC,EAAS,CACXX,OAAQ,OACRY,KAAMC,KAAKC,UAAUnB,GACrBoB,QAAS,CACR,eAAgB,qBAKrBhC,MAVY,iCAUD4B,GACL3B,MAAK,SAAAC,GAAQ,OAAIA,EAASC,UAC1BF,MAAK,SAAAiB,GACFnB,IACAL,EAAQ,IACRE,EAAS,MAEZS,OAAM,SAAAc,GAAG,OAAIZ,QAAQC,IAAI,eAAgBW,OAyC1C,kCC7EZc,IAASC,OAAO,cAAC3C,EAAD,IAAS4C,SAASC,cAAc,W","file":"static/js/main.a9b35af9.chunk.js","sourcesContent":["import { useState, useEffect } from 'react';\nimport \"./style.css\";\n\nexport default function App() {\n\n    const [name, setName] = useState(\"\");\n    const [price, setPrice] = useState(0);\n    const [products, setProducts] = useState([]);\n\n    function getProducts () {\n        const url = \"http://localhost:3333/products\";\n        fetch(url)\n            .then(response => response.json())\n            .then(results => setProducts(results))\n            .catch(error => console.log(\"Error fetching data\", error));\n    }; \n  \n    useEffect(getProducts, []);\n   \n\n    function addProduct() {\n       const product = { name, price };\n       const url = \"http://localhost:3333/products\";\n       const config = {\n           method: 'POST',\n           body: JSON.stringify(product),\n           headers: {\n            'Content-Type': 'application/json'\n           }\n           \n       };\n       \n       fetch(url, config)\n            .then(response => response.json())\n            .then(result => {\n                getProducts();\n                setName(\"\");\n                setPrice(0);    \n            })\n            .catch(err => console.log(\"OH NO, ERROR\", err))\n    }\n\n    function deleteProduct(product) {\n        alert(\"deleting \" + product.name);\n        const url = \"http://localhost:3333/products/\" + product._id;\n        const config = {\n            method: 'DELETE'\n        };\n\n        fetch(url, config)\n            .then(response => response.json())\n            .then(result => {\n                getProducts();\n            })\n            .catch(err => console.log(\"OH NO, ERROR\", err))\n    }\n\n    return (\n        <div className=\"form\">\n            <h1>Product List</h1>\n            <ul>\n                {products.map(product => \n                    <li>\n                        Product: {product.name} Price: {product.price} Euros\n                       \n                    <button className=\"deleteBtn\" onClick={()=> {deleteProduct(product)}}>delete</button>\n                    </li>\n                    )}\n            </ul>\n            \n            <input \n               type=\"text\" \n               value={name} \n               onChange={(e) => setName(e.target.value)} \n               placeholder=\"product name\" /><br/>\n            <input \n               type=\"number\" \n               value={price} \n               onChange={(e) => setPrice(parseInt(e.target.value))} \n               placeholder=\"price\" /><br/>\n            <button onClick={addProduct}>\n                Add a new product\n            </button>\n        </div>\n    )\n}","import ReactDOM from 'react-dom';\nimport App from './App.jsx';\n\nReactDOM.render(<App />, document.querySelector('#root'));"],"sourceRoot":""}